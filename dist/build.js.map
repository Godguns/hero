{"version":3,"sources":["webpack://dove/./hero_main/index.js","webpack://dove/./main/hero/Observer.js","webpack://dove/./main/hero/array.js","webpack://dove/./main/hero/index.js","webpack://dove/./main/hero/observe.js","webpack://dove/webpack/bootstrap","webpack://dove/webpack/runtime/compat get default export","webpack://dove/webpack/runtime/define property getters","webpack://dove/webpack/runtime/hasOwnProperty shorthand","webpack://dove/webpack/runtime/make namespace object","webpack://dove/webpack/startup"],"names":["hr","hero","el","APP","fragment","state","data","x","y","z","defineReactive","key","value","observe","Object","defineProperty","get","console","log","set","newValue","Observer","Array","isArray","__proto__","arrayMethods","walk","keys","i","length","create","prototype","arr_methods","observerArray","args","forEach","item","result","apply","runtime_arguments","slice","e","_init","_render","$el","$options","options","vm","$fragment","initState","view","reg","RegExp","hasOwnProperty","replace","app","document","querySelector","innerHTML","opts","initData"],"mappings":"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","file":"build.js","sourcesContent":["import hero from \"hero\";\nimport APP from '../APP/APP.hero'\nlet hr = new hero({\n  el: APP(),\n  fragment:{},\n  state: {\n    data: {\n      x: \"9\",\n      y: \"99\",\n      z:[1,2,3]\n    },\n  },\n});\n\n","import {observe} from './observe';\nimport {arrayMethods} from './array.js'\nfunction defineReactive(data,key,value){\n  observe(value)\n    Object.defineProperty(data, key, {\n        get() {\n          console.log('获取数据',value);\n          return value;\n        },\n        set(newValue) {\n          console.log('设置数据',newValue);\n          if (newValue === value) return;\n          value = newValue;\n        }\n      });\n\n}\nexport class Observer{\n    constructor(data){\n      if(Array.isArray(data)){\n        data.__proto__=arrayMethods\n      }else{\n        this.walk(data)\n      }\n      \n    }\n    walk(data){\n        let keys = Object.keys(data);\n        for(let i = 0; i < keys.length; i++) {\n          let key = keys[i];\n          let value = data[key];\n          defineReactive(data, key, value);\n        }\n    }\n\n    \n}\n","import { observe } from \"./observe\";\n\n// 拷贝新的对象，用来查找老的方法, 不修改原型上的方法\nexport let arrayMethods = Object.create(Array.prototype);\nlet arr_methods = [\"push\", \"pop\", \"shift\", \"unshift\", \"slice\", \"splice\"];\n//循环遍历arr_methods 来劫持原本的数组方法方法\nlet observerArray = function (args) {\n  for (let i = 0; i < args.length; i++) {\n    observe(args[i]);\n  }\n};\narr_methods.forEach((item) => {\n  //劫持方法\n  arrayMethods[item] = function (...args) {\n    let result = Array.prototype[item].apply(this, args);\n    console.log(\"===数组劫持===\");\n    let runtime_arguments;\n    switch (item) {\n      case \"push\":\n        runtime_arguments = args;\n        break;\n      case \"unshift\":\n        runtime_arguments = args;\n        break;\n      case \"splice\":\n        runtime_arguments = args.slice(2); //当执行splice方法的时候获取到用户给splice方法的参数（start开始位置,count结束的数量,添加的数据）\n        break;\n      default:\n        break;\n    }\n    if (runtime_arguments) observerArray(runtime_arguments); //对用户添加或者删除的数据添加响应式\n    return result;\n  };\n});\n","import { initState } from \"./observe\";\nexport default class {\n  constructor(e) {\n    console.log(e)\n    this._init(e);\n    if (this.el !== null) {\n      this._render(this.$el, this.$options.data);\n    }\n  }\n  _init(options) {\n    let vm = this;\n    vm.$el = options.el;\n    vm.$fragment = options.fragment;\n    vm.$options = options.state;\n    initState(vm);\n  }\n  /**\n   * _render渲染函数：\n   * 遍历dom节点，替换data数据\n   */\n  _render(view, data) {\n    for (const key in data) {\n      let reg = new RegExp(`{{${key}}}`, \"g\");\n      if (data.hasOwnProperty(key)) {\n        view = view.replace(reg, function () {\n          return data[key];\n        });\n      }\n    }\n    let app = document.querySelector(\"#app\");\n    app.innerHTML = view;\n  }\n}\n","import { Observer } from \"./Observer.js\";\nexport function initState(vm) {\n  let opts = vm.$options;\n  if (opts.data) {\n    //如果用户输入了data属性\n    initData(vm);\n  }\n}\n\nfunction initData(vm) {\n  let data = vm.$options.data;\n  //观测数据响应式\n  observe(vm.$options);\n}\n\nexport function observe(data) {\n  if (typeof data !== \"object\" || data == null) {\n    return;\n  }\n  return new Observer(data);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./hero_main/index.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}